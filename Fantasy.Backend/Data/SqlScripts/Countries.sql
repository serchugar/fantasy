-- Check if the columns 'created_at' and 'updated_at' exist in the 'countries' table and set their default values to the current timestamp.
DO $$
BEGIN
    IF EXISTS (
        SELECT 1 FROM pg_catalog.pg_attribute
        WHERE attrelid = 'fantasy.countries'::regclass
          AND attname = 'created_at'
          AND NOT attisdropped
    ) THEN
        EXECUTE 'ALTER TABLE fantasy.countries ALTER COLUMN created_at SET DEFAULT now()';
    END IF;

    IF EXISTS (
        SELECT 1 FROM pg_catalog.pg_attribute
        WHERE attrelid = 'fantasy.countries'::regclass
          AND attname = 'updated_at'
          AND NOT attisdropped
    ) THEN
        EXECUTE 'ALTER TABLE fantasy.countries ALTER COLUMN updated_at SET DEFAULT now()';
    END IF;
END
$$;
      
INSERT INTO fantasy.countries (id, name) VALUES
    (1, 'Afghanistan'),
    (2, 'Albania'),
    (3, 'Algeria'),
    (4, 'Andorra'),
    (5, 'Angola'),
    (6, 'Antigua And Barbuda'),
    (7, 'Argentina'),
    (8, 'Armenia'),
    (9, 'Australia'),
    (10, 'Austria'),
    (11, 'Azerbaijan'),
    (12, 'Bahrain'),
    (13, 'Bangladesh'),
    (14, 'Barbados'),
    (15, 'Belarus'),
    (16, 'Belgium'),
    (17, 'Belize'),
    (18, 'Benin'),
    (19, 'Bhutan'),
    (20, 'Bolivia'),
    (21, 'Bonaire, Sint Eustatius and Saba'),
    (22, 'Bosnia and Herzegovina'),
    (23, 'Botswana'),
    (24, 'Brazil'),
    (25, 'Brunei'),
    (26, 'Bulgaria'),
    (27, 'Burkina Faso'),
    (28, 'Burundi'),
    (29, 'Cambodia'),
    (30, 'Cameroon'),
    (31, 'Canada'),
    (32, 'Cape Verde'),
    (33, 'Central African Republic'),
    (34, 'Chad'),
    (35, 'Chile'),
    (36, 'China'),
    (37, 'Colombia'),
    (38, 'Comoros'),
    (39, 'Congo'),
    (40, 'Costa Rica'),
    (41, 'Cote D''Ivoire (Ivory Coast)'),
    (42, 'Croatia'),
    (43, 'Cuba'),
    (44, 'Cyprus'),
    (45, 'Czech Republic'),
    (46, 'Democratic Republic of the Congo'),
    (47, 'Denmark'),
    (48, 'Djibouti'),
    (49, 'Dominica'),
    (50, 'Dominican Republic'),
    (51, 'East Timor'),
    (52, 'Ecuador'),
    (53, 'Egypt'),
    (54, 'El Salvador'),
    (55, 'Equatorial Guinea'),
    (56, 'Eritrea'),
    (57, 'Estonia'),
    (58, 'Ethiopia'),
    (59, 'Fiji Islands'),
    (60, 'Finland'),
    (61, 'France'),
    (62, 'Gabon'),
    (63, 'Gambia The'),
    (64, 'Georgia'),
    (65, 'Germany'),
    (66, 'Ghana'),
    (67, 'Greece'),
    (68, 'Grenada'),
    (69, 'Guatemala'),
    (70, 'Guinea'),
    (71, 'Guinea-Bissau'),
    (72, 'Guyana'),
    (73, 'Haiti'),
    (74, 'Honduras'),
    (75, 'Hungary'),
    (76, 'Iceland'),
    (77, 'India'),
    (78, 'Indonesia'),
    (79, 'Iran'),
    (80, 'Iraq'),
    (81, 'Ireland'),
    (82, 'Israel'),
    (83, 'Italy'),
    (84, 'Jamaica'),
    (85, 'Japan'),
    (86, 'Jordan'),
    (87, 'Kazakhstan'),
    (88, 'Kenya'),
    (89, 'Kiribati'),
    (90, 'Kuwait'),
    (91, 'Kyrgyzstan'),
    (92, 'Laos'),
    (93, 'Latvia'),
    (94, 'Lebanon'),
    (95, 'Lesotho'),
    (96, 'Liberia'),
    (97, 'Libya'),
    (98, 'Liechtenstein'),
    (99, 'Lithuania'),
    (100, 'Luxembourg'),
    (101, 'Macedonia'),
    (102, 'Madagascar'),
    (103, 'Malawi'),
    (104, 'Malaysia'),
    (105, 'Maldives'),
    (106, 'Mali'),
    (107, 'Malta'),
    (108, 'Mauritania'),
    (109, 'Mauritius'),
    (110, 'Mexico'),
    (111, 'Micronesia'),
    (112, 'Moldova'),
    (113, 'Mongolia'),
    (114, 'Montenegro'),
    (115, 'Morocco'),
    (116, 'Mozambique'),
    (117, 'Myanmar'),
    (118, 'Namibia'),
    (119, 'Nauru'),
    (120, 'Nepal'),
    (121, 'Netherlands'),
    (122, 'New Zealand'),
    (123, 'Nicaragua'),
    (124, 'Niger'),
    (125, 'Nigeria'),
    (126, 'North Korea'),
    (127, 'Norway'),
    (128, 'Oman'),
    (129, 'Pakistan'),
    (130, 'Palau'),
    (131, 'Panama'),
    (132, 'Papua new Guinea'),
    (133, 'Paraguay'),
    (134, 'Peru'),
    (135, 'Philippines'),
    (136, 'Poland'),
    (137, 'Portugal'),
    (138, 'Qatar'),
    (139, 'Romania'),
    (140, 'Russia'),
    (141, 'Rwanda'),
    (142, 'Saint Kitts And Nevis'),
    (143, 'Saint Lucia'),
    (144, 'Saint Vincent And The Grenadines'),
    (145, 'Samoa'),
    (146, 'San Marino'),
    (147, 'Sao Tome and Principe'),
    (148, 'Saudi Arabia'),
    (149, 'Senegal'),
    (150, 'Serbia'),
    (151, 'Seychelles'),
    (152, 'Sierra Leone'),
    (153, 'Singapore'),
    (154, 'Slovakia'),
    (155, 'Slovenia'),
    (156, 'Solomon Islands'),
    (157, 'Somalia'),
    (158, 'South Africa'),
    (159, 'South Korea'),
    (160, 'South Sudan'),
    (161, 'Spain'),
    (162, 'Sri Lanka'),
    (163, 'Sudan'),
    (164, 'Suriname'),
    (165, 'Swaziland'),
    (166, 'Sweden'),
    (167, 'Switzerland'),
    (168, 'Syria'),
    (169, 'Taiwan'),
    (170, 'Tajikistan'),
    (171, 'Tanzania'),
    (172, 'Thailand'),
    (173, 'The Bahamas'),
    (174, 'Togo'),
    (175, 'Tonga'),
    (176, 'Trinidad And Tobago'),
    (177, 'Tunisia'),
    (178, 'Turkey'),
    (179, 'Turkmenistan'),
    (180, 'Tuvalu'),
    (181, 'Uganda'),
    (182, 'Ukraine'),
    (183, 'United Arab Emirates'),
    (184, 'United Kingdom'),
    (185, 'United States'),
    (186, 'Uruguay'),
    (187, 'Uzbekistan'),
    (188, 'Vanuatu'),
    (189, 'Venezuela'),
    (190, 'Vietnam'),
    (191, 'Virgin Islands (US)'),
    (192, 'Yemen'),
    (193, 'Zambia'),
    (194, 'Zimbabwe');

SELECT setval(
    pg_get_serial_sequence('fantasy.countries','id'),
    (SELECT MAX(id) FROM fantasy.countries)
);